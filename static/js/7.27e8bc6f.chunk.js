(this["webpackJsonpadmire-pwa"]=this["webpackJsonpadmire-pwa"]||[]).push([[7],{469:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var r=a(6),s=a(18),i=a.n(s),n=a(1),c=a(490),l=a(202),o=a(489),d=a(52),h=a(26),u=a.p+"static/media/selfie.7ba22bd2.png",m=(a.p,a.p,a(35),a(0));console.warn=function(){};var f=new Array(3).fill(Object(m.jsx)("img",{style:{width:"100%"},src:u,alt:"0"}));function p(){var e=Object(n.useRef)(null),t=Object(n.useContext)(d.a),a=Object(n.useState)(0),s=Object(r.a)(a,2),u=(s[0],s[1]);function p(e){for(var t=e.split(","),a=t[0].indexOf("base64")>=0?atob(t[1]):decodeURI(t[1]),r=t[0].split(":")[1].split(";")[0],s=new Uint8Array(a.length),i=0;i<a.length;i++)s[i]=a.charCodeAt(i);return new Blob([s],{type:r})}function b(t){if(e.current){var a=document.createElement("canvas");a.width=e.current.videoWidth,a.height=e.current.videoHeight,a.getContext("2d").drawImage(e.current,0,0,a.width,a.height);var r=new Image;r.src=a.toDataURL("image/png"),t.target.src=r.src,t.target.alt="1",f[t.target.id]=Object(m.jsx)("img",{src:r.src,score:Math.random().toFixed(2),style:{transform:"scaleX(-1)"}}),u((function(e){return e+1}));var s=new FormData;s.append("user",p(r.src),"selfie.jpg"),s.append("studio",p(r.src),"selfie2.jpg");return fetch("https://admire-dev-iq.brainstorm3d.com/image/analyze",{method:"POST",headers:{"Content-Type":"multipart/form-data"},formData:s}).then((function(e){})).catch((function(e){}))}}Object(n.useEffect)((function(){t.ready&&(e.current.srcObject=t.localStream,e.current.play())}),[t.ready,t.localStream]);var j=f.map((function(e){var t;return parseFloat(null!==(t=e.props.score)&&void 0!==t?t:0)})).sort(),g=Object(r.a)(j,3),x=(g[0],g[1],g[2]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{id:"selfie",className:"jsx-1633252458",children:[Object(m.jsx)("h3",{className:"jsx-1633252458 pt-2",children:Object(m.jsx)("b",{className:"jsx-1633252458",children:"Step 4: Lighting Quality"})}),Object(m.jsxs)(c.a,{children:[Object(m.jsx)(l.a,{md:6,children:Object(m.jsx)("video",{muted:!0,style:{transform:"rotateY(180deg)",width:"100%"},ref:e,className:"jsx-1633252458"})}),Object(m.jsxs)(l.a,{md:6,children:[Object(m.jsx)(h.a,{className:"user-select-none",children:"\n    The image quality assessment step will score if the image <b>has enough light</b> and <b>enough contrast</b>.\n    Take <b>3 selfies</b> with your face facing towards the camera. \n    The highlighted number shows the <b>best scored</b> capture.\n    "}),Object(m.jsx)("div",{id:"carousel",className:"jsx-1633252458 d-flex flex-horizontal",children:f.map((function(e,t){var a,r,s;return Object(m.jsxs)("div",{style:{position:"relative",width:"calc( 100% / 3)"},onClick:b,className:"jsx-1633252458",children:[Object(m.jsx)("img",{src:null!==(a=e.src)&&void 0!==a?a:e.props.src,alt:"Selfie ".concat(t),style:e.style,id:t,className:"jsx-1633252458"}),Object(m.jsx)(o.a,{bg:parseFloat(null!==(r=e.props.score)&&void 0!==r?r:0)===x?"success":"secondary",children:null!==(s=e.score)&&void 0!==s?s:e.props.score})]},t)}))})]})]})]}),Object(m.jsx)(i.a,{id:"1633252458",children:["#selfie #carousel{height:100px;}","#selfie #carousel:nth-child(1){margin-left:0px;}","#selfie #carousel img{width:100%;height:100%;object-fit:cover;border:1px solid rgba(0,0,0,0.1);margin-left:1px;-webkit-filter:opacity(80%);filter:opacity(80%);-webkit-transition:all .25s ease-in-out;transition:all .25s ease-in-out;}","#selfie #carousel img:hover{-webkit-filter:opacity(100%);filter:opacity(100%);}","#selfie #carousel .badge{position:absolute;top:.24rem;margin-left:.25rem;}","@media only screen and (orientation:landscape) and (max-height:671px){#selfie .row{-webkit-flex-direction:row !important;-ms-flex-direction:row !important;flex-direction:row !important;}#selfie .row .col{-webkit-align-self:start;-ms-flex-item-align:start;align-self:start;}}"]})]})}}}]);
//# sourceMappingURL=7.27e8bc6f.chunk.js.map